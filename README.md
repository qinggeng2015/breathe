# Breathe - macOS Status Bar App

ä¸€ä¸ªç®€æ´çš„macOSçŠ¶æ€æ å‘¼å¸ç»ƒä¹ åº”ç”¨ï¼Œå¸®åŠ©ä½ æ”¾æ¾èº«å¿ƒã€‚

ç”±äºåœ¨macOSå¹³å°æ²¡æœ‰æ‰¾åˆ°åˆé€‚ä¸”å…è´¹çš„åº”ç”¨ï¼Œå› æ­¤é€šè¿‡aiç”Ÿæˆäº†è¿™ä¸ªé¡¹ç›®ï¼Œé¡¹ç›®ä¸­å‡ ä¹å…¨éƒ¨ä»£ç éƒ½æ˜¯aiç”Ÿæˆã€‚æœ¬åº”ç”¨é‡‡ç”¨**æ·±åº¦æ”¾æ¾è®­ç»ƒ**çš„å‘¼å¸é¢‘ç‡è®¾å®šï¼ˆ4ç§’å¸æ°”â†’2ç§’å±æ¯â†’4ç§’å‘¼æ°”ï¼‰ï¼ŒåŸºäºç§‘å­¦çš„å‘¼å¸è®­ç»ƒç†è®ºï¼Œæ—¨åœ¨å¸®åŠ©ç”¨æˆ·åœ¨å·¥ä½œé—´éš™å¿«é€Ÿæ”¾æ¾ï¼Œç¼“è§£å‹åŠ›ï¼Œæå‡ä¸“æ³¨åŠ›ã€‚

## åŠŸèƒ½ç‰¹æ€§

- ğŸ« **å‘¼å¸å¼•å¯¼**: 4ç§’å¸æ°” â†’ 2ç§’å±æ¯ â†’ 4ç§’å‘¼æ°”çš„èŠ‚å¥
- ğŸ¯ **çŠ¶æ€æ é›†æˆ**: ç›´æ¥åœ¨macOSçŠ¶æ€æ ä¸­æ˜¾ç¤ºåŠ¨ç”»
- ğŸ¨ **è§†è§‰åé¦ˆ**: åŠ¨æ€åœ†åœˆå’Œæ–‡å­—æç¤º
- ğŸ–±ï¸ **å³é”®èœå•**: å¼€å§‹ã€åœæ­¢ã€é€€å‡ºåŠŸèƒ½
- ğŸ”• **åå°è¿è¡Œ**: ä¸æ˜¾ç¤ºåœ¨Dockä¸­ï¼Œä¸å¹²æ‰°å·¥ä½œ

## å‘¼å¸åŠŸèƒ½ç§‘å­¦ä¾æ®

åœ¨æ‰‹ç¯åº”ç”¨ä¸­ï¼Œ**å‘¼å¸åŠŸèƒ½**ï¼ˆBreathing Exercise æˆ– Respiration Trainingï¼‰é€šå¸¸æ˜¯æŒ‡ä¸€ç§å¸®åŠ©ç”¨æˆ·è¿›è¡Œæ·±å‘¼å¸è®­ç»ƒã€å‡å‹æ”¾æ¾æˆ–æå‡ä¸“æ³¨åŠ›çš„åŠŸèƒ½ã€‚è¿™ä¸ªåŠŸèƒ½çš„æ ¸å¿ƒæ˜¯å¼•å¯¼ç”¨æˆ·è¿›è¡Œæœ‰èŠ‚å¥çš„å‘¼å¸ç»ƒä¹ ï¼Œå¸¸è§çš„æ¨¡å¼åŒ…æ‹¬å¸æ°”ã€å±æ¯ã€å‘¼æ°”ç­‰é˜¶æ®µã€‚

### ä¸€ã€å‘¼å¸åŠŸèƒ½çš„å¸¸è§é¢‘ç‡è®¾ç½®

è™½ç„¶ä¸åŒå“ç‰Œå’Œå‹å·çš„æ‰‹ç¯å¯èƒ½ç•¥æœ‰å·®å¼‚ï¼Œä½†å¤§å¤šæ•°æ‰‹ç¯ä¸­çš„å‘¼å¸è®­ç»ƒéµå¾ª**ä½é¢‘æ·±å‘¼å¸åŸåˆ™**ï¼Œä»¥è¾¾åˆ°æ”¾æ¾ç¥ç»ã€é™ä½å¿ƒç‡çš„æ•ˆæœã€‚ä»¥ä¸‹æ˜¯ä¸€äº›å¸¸è§çš„å‘¼å¸é¢‘ç‡è®¾å®šï¼š

| ç±»å‹             | å‘¼å¸å‘¨æœŸï¼ˆå®Œæ•´ä¸€æ¬¡å¸æ°”+å‘¼æ°”ï¼‰ | å‘¼å¸é¢‘ç‡ï¼ˆæ¬¡/åˆ†é’Ÿï¼‰ | å…¸å‹æ¨¡å¼ç¤ºä¾‹               |
|------------------|-------------------------------|----------------------|----------------------------|
| æ·±åº¦æ”¾æ¾è®­ç»ƒ     | 10 ç§’                         | 6 æ¬¡/åˆ†é’Ÿ            | å¸æ°”4ç§’ â†’ å±æ¯2ç§’ â†’ å‘¼æ°”4ç§’ |
| è½»æ¾å†¥æƒ³         | 8-10 ç§’                       | 6-7.5 æ¬¡/åˆ†é’Ÿ        | å¸æ°”3ç§’ â†’ å‘¼æ°”5ç§’           |
| å¿«é€Ÿè°ƒèŠ‚æƒ…ç»ª     | 6-8 ç§’                        | 7.5-10 æ¬¡/åˆ†é’Ÿ       | å¸æ°”2ç§’ â†’ å‘¼æ°”4ç§’           |

> è¿™äº›å‚æ•°å¤§å¤šå‚è€ƒäº†**æ­£å¿µå†¥æƒ³**ï¼ˆMindfulnessï¼‰ã€**è‡ªå¾‹ç¥ç»è°ƒèŠ‚**ï¼ˆAutonomic Regulationï¼‰ä»¥åŠ**å‘¼å¸ç–—æ³•**ï¼ˆRespiratory Therapyï¼‰çš„ç ”ç©¶æˆæœã€‚

### äºŒã€æ”¯æ’‘è¿™äº›é¢‘ç‡çš„ç§‘å­¦ä¾æ®

#### 1. **è‡ªä¸»ç¥ç»ç³»ç»Ÿï¼ˆANSï¼‰è°ƒèŠ‚**
- ç¼“æ…¢æ·±å‘¼å¸å¯ä»¥æ¿€æ´»**å‰¯äº¤æ„Ÿç¥ç»ç³»ç»Ÿ**ï¼ˆParasympathetic Nervous Systemï¼‰ï¼Œæœ‰åŠ©äºé™ä½å¿ƒç‡ã€è¡€å‹å’Œå‹åŠ›æ°´å¹³ã€‚
- ç ”ç©¶è¡¨æ˜ï¼Œ**æ¯åˆ†é’Ÿ6æ¬¡å·¦å³çš„å‘¼å¸é¢‘ç‡**ï¼ˆå³æ¯10ç§’å®Œæˆä¸€æ¬¡å‘¼å¸å¾ªç¯ï¼‰èƒ½æœ€æœ‰æ•ˆåœ°å¢å¼ºå¿ƒç‡å˜å¼‚æ€§ï¼ˆHRVï¼‰ï¼Œä»è€Œä¿ƒè¿›æ”¾æ¾çŠ¶æ€ã€‚

> âœ… å‚è€ƒæ–‡çŒ®ï¼šLehrer, P. M., & Gevirtz, R. (2014). Heart rate variability biofeedback: how and why does it work?

#### 2. **å¿ƒç‡å˜å¼‚æ€§ï¼ˆHRVï¼‰æœ€å¤§åŒ–**
- HRV æ˜¯è¡¡é‡èº«ä½“åº”å¯¹å‹åŠ›èƒ½åŠ›çš„é‡è¦æŒ‡æ ‡ã€‚
- åœ¨å¤§çº¦**6æ¬¡/åˆ†é’Ÿ**çš„å‘¼å¸é¢‘ç‡ä¸‹ï¼ŒHRVè¾¾åˆ°æœ€å¤§å€¼ï¼Œè¿™ç§ç°è±¡è¢«ç§°ä¸º**å…±æŒ¯é¢‘ç‡å‘¼å¸**ï¼ˆResonance Frequency Breathingï¼‰ã€‚

> âœ… å‚è€ƒæ–‡çŒ®ï¼šBernardi, L., et al. (2001). Effect of breathing rate on heart rate variability in normal subjects.

#### 3. **æ­£å¿µå†¥æƒ³ä¸ä¸´åºŠåº”ç”¨**
- è®¸å¤šå†¥æƒ³ç»ƒä¹ å»ºè®®é‡‡ç”¨**å¸æ°”æ—¶é—´é•¿äºå‘¼æ°”æˆ–ç›¸ç­‰**çš„æ–¹å¼ï¼Œä¾‹å¦‚ï¼š
  - å¸æ°”4ç§’ â†’ å‘¼æ°”6ç§’ï¼ˆæ›´å¼ºè°ƒå‰¯äº¤æ„Ÿæ¿€æ´»ï¼‰
  - å¸æ°”4ç§’ â†’ å±æ¯2ç§’ â†’ å‘¼æ°”4ç§’ï¼ˆå¹³è¡¡èº«å¿ƒï¼‰

### ä¸‰ã€å…¸å‹æ‰‹ç¯å‚å•†çš„å‘¼å¸è®­ç»ƒè®¾ç½®ï¼ˆä¸¾ä¾‹ï¼‰

| å“ç‰Œ       | åº”ç”¨åç§°       | å‘¼å¸é¢‘ç‡         | æ—¶é—´é•¿åº¦ | ç‰¹ç‚¹è¯´æ˜                     |
|------------|----------------|------------------|----------|------------------------------|
| Apple Watch | Breathe App    | 5â€“7æ¬¡/åˆ†é’Ÿ       | 1~5åˆ†é’Ÿ  | å¼•å¯¼å¼åŠ¨ç”» + è§¦è§‰åé¦ˆ        |
| Fitbit     | Relaxation Mode | 6æ¬¡/åˆ†é’Ÿ         | 2~5åˆ†é’Ÿ  | ç»“åˆHRVç›‘æµ‹åé¦ˆ              |
| å°ç±³æ‰‹ç¯   | å‹åŠ›ç›‘æµ‹+å‘¼å¸è®­ç»ƒ | 6â€“8æ¬¡/åˆ†é’Ÿ       | 1~3åˆ†é’Ÿ  | é…åˆå‹åŠ›æŒ‡æ•°è¯„ä¼°             |
| åä¸ºæ‰‹ç¯   | å‹åŠ›åŠ©æ‰‹       | 6æ¬¡/åˆ†é’Ÿ         | 1~5åˆ†é’Ÿ  | æ”¯æŒå‘¼å¸è®­ç»ƒä¸å‹åŠ›é‡Šæ”¾       |

### å››ã€æ€»ç»“ï¼šæ¨èå‘¼å¸é¢‘ç‡åŠç†ç”±

| æ¨èé¢‘ç‡      | é€‚ç”¨åœºæ™¯                   | ç†ç”±                                     |
|---------------|----------------------------|------------------------------------------|
| 6æ¬¡/åˆ†é’Ÿ      | æ”¾æ¾ã€å†¥æƒ³ã€å‡å‹           | æ¿€æ´»å‰¯äº¤æ„Ÿç¥ç»ï¼Œæå‡HRV                  |
| 5â€“7æ¬¡/åˆ†é’Ÿ    | ç„¦è™‘ç¼“è§£ã€ç¡çœ å‡†å¤‡         | åŒ¹é…äººä½“è‡ªç„¶å…±æŒ¯é¢‘ç‡                     |
| 7â€“10æ¬¡/åˆ†é’Ÿ   | å¿«é€Ÿè°ƒæ•´æƒ…ç»ªã€è½»åº¦æ”¾æ¾     | æ›´é€‚åˆåˆå­¦è€…ï¼Œå®¹æ˜“é€‚åº”                   |

---

## ç³»ç»Ÿè¦æ±‚

- macOS 11.0+
- Xcode 15.0+ï¼ˆå¼€å‘éœ€è¦ï¼‰

## æ„å»ºæ–¹å¼

### 1. ä½¿ç”¨ Xcodeï¼ˆæ¨èå¼€å‘ï¼‰

```bash
# æ‰“å¼€é¡¹ç›®
open breathe.xcodeproj

# åœ¨Xcodeä¸­æŒ‰ Cmd+R è¿è¡Œ
```

### 2. å‘½ä»¤è¡Œæ„å»º

```bash
# Debugæ„å»º
xcodebuild -scheme breathe -configuration Debug

# Releaseæ„å»º
xcodebuild -scheme breathe -configuration Release

# è¿è¡Œåº”ç”¨
open ~/Library/Developer/Xcode/DerivedData/breathe-*/Build/Products/Debug/breathe.app
```

## GitHub Actions è‡ªåŠ¨æ„å»º

æœ¬é¡¹ç›®é…ç½®äº†å®Œæ•´çš„GitHub Actionså·¥ä½œæµï¼Œå¯ä»¥è‡ªåŠ¨æ„å»ºå¤šæ¶æ„DMGåŒ…ã€‚

### è§¦å‘æ¡ä»¶

- æ¨é€åˆ° `main` æˆ– `master` åˆ†æ”¯
- åˆ›å»ºæ ‡ç­¾ï¼ˆå¦‚ `v1.0.0`ï¼‰
- Pull Request
- æ‰‹åŠ¨è§¦å‘

### æ„å»ºäº§ç‰©

å·¥ä½œæµä¼šç”Ÿæˆä»¥ä¸‹æ–‡ä»¶ï¼š

1. **breathe-x86_64.dmg** - Intel Macç‰ˆæœ¬
2. **breathe-arm64.dmg** - Apple Siliconç‰ˆæœ¬  

### å·¥ä½œæµç‰¹æ€§

- âœ… **å¤šæ¶æ„æ”¯æŒ**: åŒæ—¶æ„å»ºx86_64å’ŒARM64
- âœ… **è‡ªåŠ¨å‘å¸ƒ**: æ ‡ç­¾æ¨é€æ—¶è‡ªåŠ¨åˆ›å»ºGitHub Release
- âœ… **Artifactsä¿å­˜**: 30å¤©ä¿ç•™æœŸ
- âœ… **æ„å»ºæ‘˜è¦**: å¯è§†åŒ–æ„å»ºç»“æœ

### æ‰‹åŠ¨è§¦å‘æ„å»º

1. è¿›å…¥GitHubä»“åº“çš„Actionsé¡µé¢
2. é€‰æ‹©"Build DMG Packages"å·¥ä½œæµ
3. ç‚¹å‡»"Run workflow"
4. é€‰æ‹©åˆ†æ”¯å¹¶ç‚¹å‡»ç»¿è‰²æŒ‰é’®

### å‘å¸ƒæ–°ç‰ˆæœ¬

```bash
# åˆ›å»ºå¹¶æ¨é€æ ‡ç­¾
git tag v1.0.0
git push origin v1.0.0

# GitHub Actionsä¼šè‡ªåŠ¨ï¼š
# 1. æ„å»ºæ‰€æœ‰æ¶æ„
# 2. åˆ›å»ºDMGåŒ…
# 3. å‘å¸ƒGitHub Release
# 4. ä¸Šä¼ DMGæ–‡ä»¶åˆ°Release
```

## æ„å»ºé…ç½®è¯´æ˜

### Debug vs Release vs Archive

| æ„å»ºç±»å‹ | ä¼˜åŒ–çº§åˆ« | è°ƒè¯•ä¿¡æ¯ | ç”¨é€” |
|---------|---------|---------|------|
| **Debug** | æ— ä¼˜åŒ– (`-Onone`) | å®Œæ•´è°ƒè¯•ç¬¦å· | å¼€å‘è°ƒè¯• |
| **Release** | å…¨ä¼˜åŒ– (`-O`) | dSYMæ–‡ä»¶ | æ€§èƒ½æµ‹è¯•ã€åˆ†å‘ |
| **Archive** | å…¨ä¼˜åŒ– + ç­¾å | dSYMæ–‡ä»¶ | App Storeã€æ­£å¼åˆ†å‘ |

### æ¶æ„æ”¯æŒ

- **x86_64**: Intel Mac
- **arm64**: Apple Silicon (M1/M2/M3)

## é¡¹ç›®ç»“æ„

```
breathe/
â”œâ”€â”€ .github/workflows/
â”‚   â””â”€â”€ build-dmg.yml          # GitHub Actionså·¥ä½œæµ
â”œâ”€â”€ breathe/
â”‚   â”œâ”€â”€ breatheApp.swift       # ä¸»åº”ç”¨ä»£ç 
â”‚   â”œâ”€â”€ ContentView.swift      # SwiftUIè§†å›¾ï¼ˆæœªä½¿ç”¨ï¼‰
â”‚   â”œâ”€â”€ breathe.entitlements   # åº”ç”¨æƒé™
â”‚   â””â”€â”€ Assets.xcassets/       # èµ„æºæ–‡ä»¶
â”œâ”€â”€ breatheTests/              # å•å…ƒæµ‹è¯•
â”œâ”€â”€ breatheUITests/            # UIæµ‹è¯•
â”œâ”€â”€ .gitignore                # Gitå¿½ç•¥æ–‡ä»¶
â””â”€â”€ README.md                 # é¡¹ç›®è¯´æ˜
```

## å¼€å‘å·¥å…·

### æ¨èç¼–è¾‘å™¨

1. **Xcode** - åŸç”Ÿæ”¯æŒï¼ŒåŠŸèƒ½æœ€å…¨
2. **Cursor** - AIè¾…åŠ©ç¼–ç¨‹
3. **VS Code** - è½»é‡çº§ï¼Œä¸°å¯Œæ’ä»¶

### è°ƒè¯•å·¥å…·

```bash
# Xcodeè°ƒè¯•å™¨ï¼ˆæ¨èï¼‰
# åœ¨Xcodeä¸­è®¾ç½®æ–­ç‚¹è°ƒè¯•

# å‘½ä»¤è¡Œè°ƒè¯•
lldb breathe.app/Contents/MacOS/breathe

# æ€§èƒ½åˆ†æ
instruments -t "Time Profiler" breathe.app

# å†…å­˜æ£€æŸ¥
leaks breathe
```

## å®‰è£…å’Œåˆ†å‘

### æœ¬åœ°å®‰è£…

```bash
# å¤åˆ¶åˆ°Applicationsç›®å½•
sudo cp -R breathe.app /Applications/

# æˆ–è€…ä½¿ç”¨DMGåŒ…
open breathe.dmg
# æ‹–æ‹½åˆ°Applicationsæ–‡ä»¶å¤¹
```

### ä»£ç ç­¾åï¼ˆåˆ†å‘ç”¨ï¼‰

```bash
# ç­¾ååº”ç”¨
codesign --deep --force --verify --verbose \
  --sign "Developer ID Application: Your Name" \
  breathe.app

# éªŒè¯ç­¾å
codesign --verify --verbose breathe.app
spctl --assess --verbose breathe.app
```

## æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **åº”ç”¨æ— æ³•å¯åŠ¨**
   - æ£€æŸ¥macOSç‰ˆæœ¬æ˜¯å¦å…¼å®¹
   - å°è¯•åœ¨ç»ˆç«¯ä¸­è¿è¡ŒæŸ¥çœ‹é”™è¯¯ä¿¡æ¯
   - å°è¯•æ‰“å¼€ â€œç»ˆç«¯â€ æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼šsudo xattr -cr /Applications/breathe.app

2. **çŠ¶æ€æ å›¾æ ‡ä¸æ˜¾ç¤º**
   - æ£€æŸ¥ç³»ç»Ÿåå¥½è®¾ç½®ä¸­çš„çŠ¶æ€æ é¡¹ç›®
   - é‡å¯åº”ç”¨æˆ–é‡å¯ç³»ç»Ÿ

3. **æ„å»ºå¤±è´¥**
   - æ£€æŸ¥Xcodeç‰ˆæœ¬å’Œå‘½ä»¤è¡Œå·¥å…·

### è°ƒè¯•æ—¥å¿—

```bash
# æŸ¥çœ‹åº”ç”¨æ—¥å¿—
log show --predicate 'process == "breathe"' --last 1h

# ç³»ç»Ÿæ§åˆ¶å°
open /Applications/Utilities/Console.app
```

## è´¡çŒ®æŒ‡å—

1. Forké¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯
3. æäº¤æ›´æ”¹
4. æ¨é€åˆ°åˆ†æ”¯
5. åˆ›å»ºPull Request

## è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨MITè®¸å¯è¯ - è¯¦è§LICENSEæ–‡ä»¶ã€‚

## è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·æäº¤Issueæˆ–Pull Requestã€‚ 